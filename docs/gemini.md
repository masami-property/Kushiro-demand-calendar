# 釧路宿泊需要予測プロジェクト

## 目的
釧路市の宿泊施設向けダイナミックプライシングシステム構築のための需要予測

## データソース

### 1. 大会・イベント情報
- **ソース**: https://ja.kushiro-lakeakan.com/news/20980/
- **更新頻度**: 年1回程度
- **データ形式**: PDF → CSV変換済み
- **取得項目**:
  - イベント名
  - 開催日程（開始日・終了日）
  - 参集人員数
  - 開催場所
  - 主催者・連絡先
  - 大規模イベントフラグ（1000人以上）

### 3. コンサート・ライブ情報
- **ソース**: L-Tike (手動コピー＆ペースト)
- **更新頻度**: 必要に応じて手動
- **データ形式**: テキスト → Pythonスクリプトで構造化済み
- **取得項目**:
  - 公演名
  - 開催日時
  - 会場（座席数から集客数推定）
  - チケット価格帯

### 4. 観光トレンド情報
- **ソース**: 釧路市観光統計 (手動コピー＆ペースト): https://www.city.kushiro.lg.jp/sangyou/kankou/1006252/1006253.html
- **更新頻度**: 年1回程度
- **データ形式**: PDF → テキスト（手動）→ Pythonスクリプトで構造化済み
- **取得項目**:
  - 月別観光客数

## 現在の進捗状況

### ✅ 完了済み
- [x] イベント情報PDFの自動変換システム構築
- [x] 和暦→西暦変換、日付正規化処理
- [x] 参集人員による影響度判定
- [x] CSV形式での統一出力
- [x] クルーズ客船情報の構造化
- [x] コンサート情報の取得・構造化
- [x] 全データソースの統合CSV生成

### 📋 今後の課題
- [ ] 「日程未定」イベントの扱い
- [ ] データ更新の自動化
- [ ] 需要予測モデルの精度向上（パラメータ調整など）

## 技術的検討事項

### データ統合フォーマット
```csv
EventType,Subject,StartDate,EndDate,EstimatedAttendees,Location,ImpactLevel,DataSource,LastUpdated
大会,第53回釧路湿原マラソン,2025-07-27,,3000,釧路市民陸上競技場,High,kushiro-lakeakan.com,2025-08-08
クルーズ,ダイヤモンド・プリンセス入港,2025-04-18,2025-04-18,2800,西港第4埠頭,High,city.kushiro.lg.jp,2025-08-08
コンサート,○○コンサート,2025-06-15,2025-06-15,1500,釧路市民文化会館,Medium,kushiro-bunka.or.jp,2025-08-08
```

### 影響度レベル定義
- **High**: 1000人以上の集客が見込まれる
- **Medium**: 300-999人の集客が見込まれる  
- **Low**: 299人以下の集客が見込まれる

### 除外した手法とその理由
- **SNS分析**: コスト面での制約

## 次のアクションプラン

### Phase 1: データ収集の自動化（完了）
1. クルーズ客船情報のスクレイピング機能追加
2. コンサート情報のスクレイピング機能追加  
3. 統合CSV生成機能の実装

### Phase 2: 需要予測モデル構築（完了）
1. 過去宿泊データとの相関分析
2. 季節性・曜日効果の考慮
3. 複数イベント重複時の相乗効果分析
4. 祝日データの統合
5. 観光トレンドデータによる季節トレンドの反映
6. イベント寄与度、クルーズ船ウェイト、不明人数イベントのスコア調整
7. 年間カレンダー形式での可視化（JSONデータ生成、HTML/CSS/JSによる表示）
8. プロジェクトファイルの整理

### Phase 3: ダイナミックプライシング実装
1. 需要予測に基づく価格提案アルゴリズム
2. 競合他社価格との比較機能
3. リアルタイム価格調整機能

## 技術スタック
- **言語**: Python
- **データ処理**: pandas, pdfplumber
- **Web スクレイピング**: requests, BeautifulSoup
- **日付処理**: datetime, re (正規表現)
- **出力形式**: CSV (カレンダーアプリ対応), JSON (カレンダーデータ)
- **可視化**: HTML, CSS, JavaScript

## 現在の進捗状況

### ✅ 完了済み
- [x] イベント情報PDFの自動変換システム構築
- [x] 和暦→西暦変換、日付正規化処理
- [x] 参集人員による影響度判定
- [x] CSV形式での統一出力
- [x] クルーズ客船情報の構造化
- [x] コンサート情報の取得・構造化
- [x] 全データソースの統合CSV生成

### 📋 今後の課題
- [ ] 「日程未定」イベントの扱い
- [ ] データ更新の自動化
- [ ] 需要予測モデルの精度向上（パラメータ調整など）

## 技術的検討事項

### データ統合フォーマット
```csv
EventType,Subject,StartDate,EndDate,EstimatedAttendees,Location,ImpactLevel,DataSource,LastUpdated
大会,第53回釧路湿原マラソン,2025-07-27,,3000,釧路市民陸上競技場,High,kushiro-lakeakan.com,2025-08-08
クルーズ,ダイヤモンド・プリンセス入港,2025-04-18,2025-04-18,2800,西港第4埠頭,High,city.kushiro.lg.jp,2025-08-08
コンサート,○○コンサート,2025-06-15,2025-06-15,1500,釧路市民文化会館,Medium,kushiro-bunka.or.jp,2025-08-08
```

### 影響度レベル定義
- **High**: 1000人以上の集客が見込まれる
- **Medium**: 300-999人の集客が見込まれる  
- **Low**: 299人以下の集客が見込まれる

### 除外した手法とその理由
- **Google Trends分析**: 未来予測には不適切
- **SNS分析**: コスト面での制約

## 次のアクションプラン

### Phase 1: データ収集の自動化（完了）
1. クルーズ客船情報のスクレイピング機能追加
2. コンサート情報のスクレイピング機能追加  
3. 統合CSV生成機能の実装

### Phase 2: 需要予測モデル構築（完了）
1. 過去宿泊データとの相関分析
2. 季節性・曜日効果の考慮
3. 複数イベント重複時の相乗効果分析
4. 祝日データの統合
5. Google Trendsデータによる季節トレンドの反映
6. イベント寄与度、クルーズ船ウェイト、不明人数イベントのスコア調整
7. 年間カレンダー形式での可視化（JSONデータ生成、HTML/CSS/JSによる表示）

### Phase 3: ダイナミックプライシング実装
1. 需要予測に基づく価格提案アルゴリズム
2. 競合他社価格との比較機能
3. リアルタイム価格調整機能

## 技術スタック
- **言語**: Python
- **データ処理**: pandas, pdfplumber
- **Web スクレイピング**: requests, BeautifulSoup, pytrends
- **日付処理**: datetime, re (正規表現)
- **出力形式**: CSV (カレンダーアプリ対応), JSON (カレンダーデータ)
- **可視化**: HTML, CSS, JavaScript